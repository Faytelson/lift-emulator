(function(){"use strict";var t={9001:function(t,e,a){var r=a(144),n=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("div",{staticClass:"container-xl"},[t._l(t.lifts,(function(a){return e("LiftComponent",{key:a.id,ref:a.id,refInFor:!0,attrs:{stages:t.stages},on:{createLocal:t.createLocalObj,sendClearCallstack:t.clearCallStackItem,sendCheckStack:t.checkStack}})})),e("div",{staticClass:"buttons"},t._l(t.stages,(function(a){return e("div",{key:a.id,staticClass:"buttons__button-container"},[e("button",{staticClass:"buttons__button",on:{click:function(e){return t.checkActive(a.id,e.target)}}},[t._v("Call lift ")])])})),0)],2)])},l=[],i=(a(7658),function(){var t=this,e=t._self._c;return e("div",{staticClass:"container"},[e("div",{staticClass:"stages"},t._l(t.stages,(function(a){return e("div",{key:a.id,staticClass:"stages__stage"},[t._v(t._s(a.id)+" ")])})),0),e("div",{staticClass:"lift-track"},[e("div",{ref:"lift",staticClass:"lift-track__lift"},[e("div",{staticClass:"table"},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.tableClass,expression:"tableClass"}],staticClass:"table__direction",class:t.tableClass}),e("div",{staticClass:"table__stage"},[t._v(t._s(t.currentActive))])])])])])}),c=[],s={name:"LiftComponent",props:{stages:{type:Array,default:null}},mounted(){let t=document.querySelector(".lift-track__lift");t.style.bottom=100*this.current+"px"},data(){return{vacant:!0,current:1,currentActive:1,tableClass:""}},computed:{lift(){return this.$refs.lift}},methods:{launchLift(t,e){e.style.background="yellow",this.$emit("sendClearCallstack");const a=this;this.currentActive=t,this.vacant=!1,a.$emit("createLocal");let r=Math.abs(t-this.current),n=setInterval((function(){a.current>t?(a.tableClass="down",a.lift.style.bottom=parseFloat(a.lift.style.bottom)-1+"px",a.lift.style.bottom<=100*t+"px"&&clearInterval(n)):(a.tableClass="up",a.lift.style.bottom=`${parseFloat(a.lift.style.bottom)+1}px`,a.lift.style.bottom>=100*t+"px"&&clearInterval(n))}),10);setTimeout((function(){setTimeout((function(){a.vacant=!0,a.$emit("createLocal"),e.style.background="white",a.$emit("sendCheckStack")}),3e3),a.current=t,a.$emit("createLocal"),a.tableClass="",a.animate(e)}),1e3*r)},animate(t){let e=0,a=setInterval((function(){t.classList.toggle("blue"),e+=.5,e>=3&&(clearInterval(a),t.classList.remove("blue"))}),500)}}},o=s,u=a(1001),f=(0,u.Z)(o,i,c,!1,null,"644e4fea",null),d=f.exports,h={name:"App",components:{LiftComponent:d},mounted(){this.checkSessionState(),this.createLocalObj()},data(){return{stages:[{id:0},{id:1},{id:2},{id:3},{id:4},{id:5}],lifts:[{id:1},{id:2},{id:3}],callStack:[]}},methods:{checkActive(t,e){this.callStack.includes(t)||this.callStack.push(t);let a=JSON.parse(localStorage.getItem("localArr"));if(a){let r=[],n=a.filter((e=>t!==e.currentActive&&e.vacant));if(n.length>0){n.forEach((e=>r.push(Math.abs(t-e.current))));let a=Math.min(...r),l=n.find((e=>Math.abs(t-e.current)===a)),i=this.$refs;for(let r in i)Number(r)===Number(l.id)&&i[r][0].launchLift(t,e)}}},createLocalObj(){let t=[],e=this.$refs;for(let a in e){let r={id:Number(a),current:e[a][0].current,currentActive:e[a][0].currentActive,vacant:e[a][0].vacant};t.push(r)}localStorage.setItem("localArr",JSON.stringify(t))},checkStack(){const t=document.querySelectorAll(".buttons__button");this.callStack.length>0&&this.checkActive(this.callStack[0],t[this.callStack[0]])},clearCallStackItem(){this.callStack.shift(this.callStack[0])},checkSessionState(){let t=JSON.parse(localStorage.getItem("localArr")),e=this.$refs,a=document.querySelectorAll(".lift-track__lift");for(let r in e)e[r][0].current=t[r-1].current,e[r][0].currentActive=t[r-1].currentActive,a[r-1].style.bottom=100*e[r][0].current+"px"}}},v=h,b=(0,u.Z)(v,n,l,!1,null,null,null),m=b.exports;r.ZP.config.productionTip=!1,new r.ZP({render:t=>t(m)}).$mount("#app")}},e={};function a(r){var n=e[r];if(void 0!==n)return n.exports;var l=e[r]={exports:{}};return t[r].call(l.exports,l,l.exports,a),l.exports}a.m=t,function(){var t=[];a.O=function(e,r,n,l){if(!r){var i=1/0;for(u=0;u<t.length;u++){r=t[u][0],n=t[u][1],l=t[u][2];for(var c=!0,s=0;s<r.length;s++)(!1&l||i>=l)&&Object.keys(a.O).every((function(t){return a.O[t](r[s])}))?r.splice(s--,1):(c=!1,l<i&&(i=l));if(c){t.splice(u--,1);var o=n();void 0!==o&&(e=o)}}return e}l=l||0;for(var u=t.length;u>0&&t[u-1][2]>l;u--)t[u]=t[u-1];t[u]=[r,n,l]}}(),function(){a.d=function(t,e){for(var r in e)a.o(e,r)&&!a.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};a.O.j=function(e){return 0===t[e]};var e=function(e,r){var n,l,i=r[0],c=r[1],s=r[2],o=0;if(i.some((function(e){return 0!==t[e]}))){for(n in c)a.o(c,n)&&(a.m[n]=c[n]);if(s)var u=s(a)}for(e&&e(r);o<i.length;o++)l=i[o],a.o(t,l)&&t[l]&&t[l][0](),t[l]=0;return a.O(u)},r=self["webpackChunklift_emulator"]=self["webpackChunklift_emulator"]||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))}();var r=a.O(void 0,[998],(function(){return a(9001)}));r=a.O(r)})();
//# sourceMappingURL=app.960e1576.js.map