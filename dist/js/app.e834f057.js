(function(){"use strict";var t={5566:function(t,e,a){var r=a(144),l=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("div",{staticClass:"container-xl"},[t._l(t.lifts,(function(a){return e("LiftComponent",{key:a.id,ref:a.id,refInFor:!0,attrs:{stages:t.stages},on:{createLocal:t.createLocalObj,sendClearCallstack:t.clearCallStackItem,sendCheckStack:t.checkStack}})})),e("div",{staticClass:"buttons"},t._l(t.stages,(function(a){return e("div",{key:a.id,staticClass:"buttons__button-container"},[e("button",{staticClass:"buttons__button",on:{click:function(e){return t.checkActive(a.id,e.target)}}},[t._v("Call lift ")])])})),0)],2)])},n=[],i=(a(7658),function(){var t=this,e=t._self._c;return e("div",{staticClass:"container"},[e("div",{staticClass:"stages"},t._l(t.stages,(function(a){return e("div",{key:a.id,staticClass:"stages__stage"},[t._v(t._s(a.id)+" ")])})),0),e("div",{staticClass:"lift-track"},[e("div",{ref:"lift",staticClass:"lift-track__lift"},[e("div",{staticClass:"table"},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.tableClass,expression:"tableClass"}],staticClass:"table__direction",class:t.tableClass}),e("div",{staticClass:"table__stage"},[t._v(t._s(t.currentActive))])])])])])}),c=[],s={name:"LiftComponent",props:{stages:{type:Array,default:null}},mounted(){let t=document.querySelectorAll(".lift-track__lift");t.forEach((t=>{t.style.bottom=100*this.current+"px"}))},data(){return{vacant:!0,current:1,currentActive:1,tableClass:""}},computed:{lift(){return this.$refs.lift}},methods:{launchLift(t,e){e.style.background="yellow",this.$emit("sendClearCallstack"),this.currentActive=t,this.vacant=!1,this.$emit("createLocal");let a=Math.abs(t-this.current);const r=this;let l=setInterval((function(){r.current>t?(r.tableClass="down",r.lift.style.bottom=parseFloat(r.lift.style.bottom)-1+"px",r.lift.style.bottom<=100*t+"px"&&clearInterval(l)):(r.tableClass="up",r.lift.style.bottom=`${parseFloat(r.lift.style.bottom)+1}px`,r.lift.style.bottom>=100*t+"px"&&clearInterval(l))}),10);setTimeout((function(){setTimeout((function(){r.vacant=!0,r.$emit("createLocal"),e.style.background="white",r.$emit("sendCheckStack")}),3e3),r.current=t,r.$emit("createLocal"),r.tableClass="",r.animate(e)}),1e3*a)},animate(t){let e=0,a=setInterval((function(){t.classList.toggle("blue"),e+=.5,e>=3&&(clearInterval(a),t.classList.remove("blue"))}),500)}}},o=s,u=a(1001),f=(0,u.Z)(o,i,c,!1,null,"56e19d93",null),h=f.exports,d={name:"App",components:{LiftComponent:h},mounted(){this.checkSessionState()},data(){return{stages:[{id:0},{id:1},{id:2},{id:3},{id:4},{id:5}],lifts:[{id:1},{id:2},{id:3}],callStack:[]}},methods:{checkSessionState(){let t=JSON.parse(localStorage.getItem("localArr"));if(t){let e=this.$refs,a=document.querySelectorAll(".lift-track__lift");for(let r in e)e[r][0].current=t[r-1].current,e[r][0].currentActive=t[r-1].currentActive,a[r-1].style.bottom=100*e[r][0].current+"px"}else this.createLocalObj()},createLocalObj(){let t=[],e=this.$refs;for(let a in e){let r={id:Number(a),current:e[a][0].current,currentActive:e[a][0].currentActive,vacant:e[a][0].vacant};t.push(r)}localStorage.setItem("localArr",JSON.stringify(t))},checkActive(t,e){this.callStack.includes(t)||this.callStack.push(t);let a=JSON.parse(localStorage.getItem("localArr"));if(a){let r=[],l=a.filter((e=>t!==e.currentActive&&e.vacant));if(l.length>0){l.forEach((e=>r.push(Math.abs(t-e.current))));let a=Math.min(...r),n=l.find((e=>Math.abs(t-e.current)===a)),i=this.$refs;i[n.id][0].launchLift(t,e)}}},checkStack(){const t=document.querySelectorAll(".buttons__button");this.callStack.length>0&&this.checkActive(this.callStack[0],t[this.callStack[0]])},clearCallStackItem(){this.callStack.shift(this.callStack[0])}}},v=d,b=(0,u.Z)(v,l,n,!1,null,null,null),p=b.exports;r.ZP.config.productionTip=!1,new r.ZP({render:t=>t(p)}).$mount("#app")}},e={};function a(r){var l=e[r];if(void 0!==l)return l.exports;var n=e[r]={exports:{}};return t[r].call(n.exports,n,n.exports,a),n.exports}a.m=t,function(){var t=[];a.O=function(e,r,l,n){if(!r){var i=1/0;for(u=0;u<t.length;u++){r=t[u][0],l=t[u][1],n=t[u][2];for(var c=!0,s=0;s<r.length;s++)(!1&n||i>=n)&&Object.keys(a.O).every((function(t){return a.O[t](r[s])}))?r.splice(s--,1):(c=!1,n<i&&(i=n));if(c){t.splice(u--,1);var o=l();void 0!==o&&(e=o)}}return e}n=n||0;for(var u=t.length;u>0&&t[u-1][2]>n;u--)t[u]=t[u-1];t[u]=[r,l,n]}}(),function(){a.d=function(t,e){for(var r in e)a.o(e,r)&&!a.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};a.O.j=function(e){return 0===t[e]};var e=function(e,r){var l,n,i=r[0],c=r[1],s=r[2],o=0;if(i.some((function(e){return 0!==t[e]}))){for(l in c)a.o(c,l)&&(a.m[l]=c[l]);if(s)var u=s(a)}for(e&&e(r);o<i.length;o++)n=i[o],a.o(t,n)&&t[n]&&t[n][0](),t[n]=0;return a.O(u)},r=self["webpackChunklift_emulator"]=self["webpackChunklift_emulator"]||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))}();var r=a.O(void 0,[998],(function(){return a(5566)}));r=a.O(r)})();
//# sourceMappingURL=app.e834f057.js.map